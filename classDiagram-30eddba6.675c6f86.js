var t;(0,(t=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequiree2db).register)("jl7NU",function(e,a){Object.defineProperty(e.exports,"diagram",{get:function(){return u},set:void 0,enumerable:!0,configurable:!0});var r=t("jMyJK"),i=t("Knj1d"),n=t("1RzZk"),d=t("ewvVJ"),o=t("5GUWQ");t("6fO6W"),t("biwpL"),t("gyk94"),t("cDk4l");var l=0,s=function(t){var e=t.id;return t.type&&(e+="<"+(0,o.x)(t.type)+">"),e},p=function(t,e,a,r){var i=e.getDisplayDetails(),n=i.displayText,d=i.cssStyle,o=t.append("tspan").attr("x",r.padding).text(n);""!==d&&o.attr("style",e.cssStyle),a||o.attr("dy",r.textHeight)},c={drawClass:function(t,e,a,r){(0,o.l).debug("Rendering class ",e,a);var i,n,d,l,c=e.id,g={id:c,label:e.id,width:0,height:0},h=t.append("g").attr("id",r.db.lookUpDomId(c)).attr("class","classGroup");i=e.link?h.append("svg:a").attr("xlink:href",e.link).attr("target",e.linkTarget).append("text").attr("y",a.textHeight+a.padding).attr("x",0):h.append("text").attr("y",a.textHeight+a.padding).attr("x",0);var f=!0;e.annotations.forEach(function(t){var e=i.append("tspan").text("«"+t+"»");f||e.attr("dy",a.textHeight),f=!1});var u=s(e),x=i.append("tspan").text(u).attr("class","title");f||x.attr("dy",a.textHeight);var y=i.node().getBBox().height;if(e.members.length>0){n=h.append("line").attr("x1",0).attr("y1",a.padding+y+a.dividerMargin/2).attr("y2",a.padding+y+a.dividerMargin/2);var v=h.append("text").attr("x",a.padding).attr("y",y+a.dividerMargin+a.textHeight).attr("fill","white").attr("class","classText");f=!0,e.members.forEach(function(t){p(v,t,f,a),f=!1}),d=v.node().getBBox()}if(e.methods.length>0){l=h.append("line").attr("x1",0).attr("y1",a.padding+y+a.dividerMargin+d.height).attr("y2",a.padding+y+a.dividerMargin+d.height);var b=h.append("text").attr("x",a.padding).attr("y",y+2*a.dividerMargin+d.height+a.textHeight).attr("fill","white").attr("class","classText");f=!0,e.methods.forEach(function(t){p(b,t,f,a),f=!1})}var w=h.node().getBBox(),m=" ";e.cssClasses.length>0&&(m+=e.cssClasses.join(" "));var k=h.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",w.width+2*a.padding).attr("height",w.height+a.padding+.5*a.dividerMargin).attr("class",m).node().getBBox().width;return i.node().childNodes.forEach(function(t){t.setAttribute("x",(k-t.getBBox().width)/2)}),e.tooltip&&i.insert("title").text(e.tooltip),n&&n.attr("x2",k),l&&l.attr("x2",k),g.width=k,g.height=w.height+a.padding+.5*a.dividerMargin,g},drawEdge:function(t,e,a,r,n){var d,s,p,c,g,h,f=function(t){switch(t){case n.db.relationType.AGGREGATION:return"aggregation";case n.db.relationType.EXTENSION:return"extension";case n.db.relationType.COMPOSITION:return"composition";case n.db.relationType.DEPENDENCY:return"dependency";case n.db.relationType.LOLLIPOP:return"lollipop"}};e.points=e.points.filter(function(t){return!Number.isNaN(t.y)});var u=e.points,x=(0,i.line)().x(function(t){return t.x}).y(function(t){return t.y}).curve(i.curveBasis),y=t.append("path").attr("d",x(u)).attr("id","edge"+l).attr("class","relation"),v="";r.arrowMarkerAbsolute&&(v=(v=(v=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")),1==a.relation.lineType&&y.attr("class","relation dashed-line"),10==a.relation.lineType&&y.attr("class","relation dotted-line"),"none"!==a.relation.type1&&y.attr("marker-start","url("+v+"#"+f(a.relation.type1)+"Start)"),"none"!==a.relation.type2&&y.attr("marker-end","url("+v+"#"+f(a.relation.type2)+"End)");var b=e.points.length,w=(0,o.u).calcLabelPosition(e.points);if(d=w.x,s=w.y,b%2!=0&&b>1){var m=(0,o.u).calcCardinalityPosition("none"!==a.relation.type1,e.points,e.points[0]),k=(0,o.u).calcCardinalityPosition("none"!==a.relation.type2,e.points,e.points[b-1]);(0,o.l).debug("cardinality_1_point "+JSON.stringify(m)),(0,o.l).debug("cardinality_2_point "+JSON.stringify(k)),p=m.x,c=m.y,g=k.x,h=k.y}if(void 0!==a.title){var L=t.append("g").attr("class","classLabel"),E=L.append("text").attr("class","label").attr("x",d).attr("y",s).attr("fill","red").attr("text-anchor","middle").text(a.title);window.label=E;var N=E.node().getBBox();L.insert("rect",":first-child").attr("class","box").attr("x",N.x-r.padding/2).attr("y",N.y-r.padding/2).attr("width",N.width+r.padding).attr("height",N.height+r.padding)}(0,o.l).info("Rendering relation "+JSON.stringify(a)),void 0!==a.relationTitle1&&"none"!==a.relationTitle1&&t.append("g").attr("class","cardinality").append("text").attr("class","type1").attr("x",p).attr("y",c).attr("fill","black").attr("font-size","6").text(a.relationTitle1),void 0!==a.relationTitle2&&"none"!==a.relationTitle2&&t.append("g").attr("class","cardinality").append("text").attr("class","type2").attr("x",g).attr("y",h).attr("fill","black").attr("font-size","6").text(a.relationTitle2),l++},drawNote:function(t,e,a,r){(0,o.l).debug("Rendering note ",e,a);var i=e.id,n={id:i,text:e.text,width:0,height:0},d=t.append("g").attr("id",i).attr("class","classGroup"),l=d.append("text").attr("y",a.textHeight+a.padding).attr("x",0),s=JSON.parse('"'.concat(e.text,'"')).split("\n");s.forEach(function(t){(0,o.l).debug("Adding line: ".concat(t)),l.append("tspan").text(t).attr("class","title").attr("dy",a.textHeight)});var p=d.node().getBBox(),c=d.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",p.width+2*a.padding).attr("height",p.height+s.length*a.textHeight+a.padding+.5*a.dividerMargin).node().getBBox().width;return l.node().childNodes.forEach(function(t){t.setAttribute("x",(c-t.getBBox().width)/2)}),n.width=c,n.height=p.height+s.length*a.textHeight+a.padding+.5*a.dividerMargin,n}},g={},h=function(t){var e=Object.entries(g).find(function(e){return e[1].label===t});if(e)return e[0]},f=function(t){t.append("defs").append("marker").attr("id","extensionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id","extensionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z"),t.append("defs").append("marker").attr("id","compositionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","compositionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","aggregationStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","aggregationEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","dependencyStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},u={parser:r.p,db:r.d,renderer:{draw:function(t,e,a,r){var l=(0,o.c)().class;g={},(0,o.l).info("Rendering diagram "+t);var s=(0,o.c)().securityLevel;"sandbox"===s&&(k=(0,i.select)("#i"+e));var p="sandbox"===s?(0,i.select)(k.nodes()[0].contentDocument.body):(0,i.select)("body"),u=p.select("[id='".concat(e,"']"));f(u);var x=new d.Graph({multigraph:!0});x.setGraph({isMultiGraph:!0}),x.setDefaultEdgeLabel(function(){return{}});var y=r.db.getClasses(),v=Object.keys(y),b=!0,w=!1,m=void 0;try{for(var k,L,E=v[Symbol.iterator]();!(b=(L=E.next()).done);b=!0){var N=y[L.value],M=c.drawClass(u,N,l,r);g[M.id]=M,x.setNode(M.id,M),(0,o.l).info("Org height: "+M.height)}}catch(t){w=!0,m=t}finally{try{b||null==E.return||E.return()}finally{if(w)throw m}}r.db.getRelations().forEach(function(t){(0,o.l).info("tjoho"+h(t.id1)+h(t.id2)+JSON.stringify(t)),x.setEdge(h(t.id1),h(t.id2),{relation:t},t.title||"DEFAULT")}),r.db.getNotes().forEach(function(t){(0,o.l).debug("Adding note: ".concat(JSON.stringify(t)));var e=c.drawNote(u,t,l,r);g[e.id]=e,x.setNode(e.id,e),t.class&&t.class in y&&x.setEdge(t.id,h(t.class),{relation:{id1:t.id,id2:t.class,relation:{type1:"none",type2:"none",lineType:10}}},"DEFAULT")}),(0,n.layout)(x),x.nodes().forEach(function(t){void 0!==t&&void 0!==x.node(t)&&((0,o.l).debug("Node "+t+": "+JSON.stringify(x.node(t))),p.select("#"+(r.db.lookUpDomId(t)||t)).attr("transform","translate("+(x.node(t).x-x.node(t).width/2)+","+(x.node(t).y-x.node(t).height/2)+" )"))}),x.edges().forEach(function(t){void 0!==t&&void 0!==x.edge(t)&&((0,o.l).debug("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(x.edge(t))),c.drawEdge(u,x.edge(t),x.edge(t).relation,l,r))});var T=u.node().getBBox(),B=T.width+40,O=T.height+40;(0,o.i)(u,O,B,l.useMaxWidth);var H="".concat(T.x-20," ").concat(T.y-20," ").concat(B," ").concat(O);(0,o.l).debug("viewBox ".concat(H)),u.attr("viewBox",H)}},styles:r.s,init:function(t){t.class||(t.class={}),t.class.arrowMarkerAbsolute=t.arrowMarkerAbsolute,(0,r.d).clear()}}});
//# sourceMappingURL=classDiagram-30eddba6.675c6f86.js.map
