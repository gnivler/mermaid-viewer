!function(){function t(t,r,e,a){Object.defineProperty(t,r,{get:e,set:a,enumerable:!0,configurable:!0})}var r=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequiree2db;(0,r.register)("8fu6w",function(e,a){t(e.exports,"a",function(){return P}),t(e.exports,"c",function(){return R}),t(e.exports,"l",function(){return O}),t(e.exports,"u",function(){return W}),t(e.exports,"i",function(){return X}),t(e.exports,"e",function(){return td}),t(e.exports,"s",function(){return th}),t(e.exports,"b",function(){return tu}),t(e.exports,"p",function(){return tp}),t(e.exports,"g",function(){return ty}),t(e.exports,"k",function(){return tb}),t(e.exports,"m",function(){return tw}),t(e.exports,"d",function(){return tL}),t(e.exports,"f",function(){return tS}),t(e.exports,"j",function(){return tT}),t(e.exports,"h",function(){return tP});var n,i,s,l,o,c,d,h,u,p,y,f,g,x,b,w,m,v,k,_,L=r("hMcdm"),S=r("acy6y"),M=r("1t9cm"),T=r("5GUWQ"),B=r("Knj1d"),C=r("4pDEe"),E={extension:function(t,r,e){(0,T.l).trace("Making markers for ",e),t.append("defs").append("marker").attr("id",e+"_"+r+"-extensionStart").attr("class","marker extension "+r).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id",e+"_"+r+"-extensionEnd").attr("class","marker extension "+r).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},composition:function(t,r,e){t.append("defs").append("marker").attr("id",e+"_"+r+"-compositionStart").attr("class","marker composition "+r).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",e+"_"+r+"-compositionEnd").attr("class","marker composition "+r).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},aggregation:function(t,r,e){t.append("defs").append("marker").attr("id",e+"_"+r+"-aggregationStart").attr("class","marker aggregation "+r).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",e+"_"+r+"-aggregationEnd").attr("class","marker aggregation "+r).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},dependency:function(t,r,e){t.append("defs").append("marker").attr("id",e+"_"+r+"-dependencyStart").attr("class","marker dependency "+r).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",e+"_"+r+"-dependencyEnd").attr("class","marker dependency "+r).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},lollipop:function(t,r,e){t.append("defs").append("marker").attr("id",e+"_"+r+"-lollipopStart").attr("class","marker lollipop "+r).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),t.append("defs").append("marker").attr("id",e+"_"+r+"-lollipopEnd").attr("class","marker lollipop "+r).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},point:function(t,r,e){t.append("marker").attr("id",e+"_"+r+"-pointEnd").attr("class","marker "+r).attr("viewBox","0 0 10 10").attr("refX",6).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",e+"_"+r+"-pointStart").attr("class","marker "+r).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},circle:function(t,r,e){t.append("marker").attr("id",e+"_"+r+"-circleEnd").attr("class","marker "+r).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",e+"_"+r+"-circleStart").attr("class","marker "+r).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},cross:function(t,r,e){t.append("marker").attr("id",e+"_"+r+"-crossEnd").attr("class","marker cross "+r).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),t.append("marker").attr("id",e+"_"+r+"-crossStart").attr("class","marker cross "+r).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},barb:function(t,r,e){t.append("defs").append("marker").attr("id",e+"_"+r+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")}},P=function(t,r,e,a){r.forEach(function(r){E[r](t,e,a)})},R=function(t,r,e,a){var n=t||"";if("object"==typeof n&&(n=n[0]),(0,T.m)((0,T.c)().flowchart.htmlLabels))return n=n.replace(/\\n|\n/g,"<br />"),(0,T.l).debug("vertexText"+n),d={isNode:a,label:(0,T.M)(n).replace(/fa[blrs]?:fa-[\w-]+/g,function(t){return"<i class='".concat(t.replace(":"," "),"'></i>")}),labelStyle:r.replace("fill:","color:")},u=(h=(0,B.select)(document.createElementNS("http://www.w3.org/2000/svg","foreignObject"))).append("xhtml:div"),p=d.label,y=d.isNode?"nodeLabel":"edgeLabel",u.html('<span class="'+y+'" '+(d.labelStyle?'style="'+d.labelStyle+'"':"")+">"+p+"</span>"),(f=d.labelStyle)&&u.attr("style",f),u.style("display","inline-block"),u.style("white-space","nowrap"),u.attr("xmlns","http://www.w3.org/1999/xhtml"),h.node();var i=document.createElementNS("http://www.w3.org/2000/svg","text");i.setAttribute("style",r.replace("color:","fill:"));var s=[];s="string"==typeof n?n.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(n)?n:[];var l=!0,o=!1,c=void 0;try{for(var d,h,u,p,y,f,g,x=s[Symbol.iterator]();!(l=(g=x.next()).done);l=!0){var b=g.value,w=document.createElementNS("http://www.w3.org/2000/svg","tspan");w.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),w.setAttribute("dy","1em"),w.setAttribute("x","0"),e?w.setAttribute("class","title-row"):w.setAttribute("class","row"),w.textContent=b.trim(),i.appendChild(w)}}catch(t){o=!0,c=t}finally{try{l||null==x.return||x.return()}finally{if(o)throw c}}return i},O=(n=(0,L._)(function(t,r,e,a){var n,i,s,l,o,c,d,h,u,p,y,f,g;return(0,M.__generator)(this,function(x){switch(x.label){case 0:if(i=r.useHtmlLabels||(0,T.m)((0,T.c)().flowchart.htmlLabels),n=e||"node default",l=(s=t.insert("g").attr("class",n).attr("id",r.domId||r.id)).insert("g").attr("class","label").attr("style",r.labelStyle),o=void 0===r.labelText?"":"string"==typeof r.labelText?r.labelText:r.labelText[0],c=l.node(),h=(d="markdown"===r.labelType?(0,C.a)(l,(0,T.d)((0,T.M)(o),(0,T.c)()),{useHtmlLabels:i,width:r.width||(0,T.c)().flowchart.wrappingWidth,classes:"markdown-node-label"}):c.appendChild(R((0,T.d)((0,T.M)(o),(0,T.c)()),r.labelStyle,!1,a))).getBBox(),u=r.padding/2,!(0,T.m)((0,T.c)().flowchart.htmlLabels))return[3,3];if(p=d.children[0],y=(0,B.select)(d),!(f=p.getElementsByTagName("img")))return[3,2];return g=""===o.replace(/<img[^>]*>/g,"").trim(),[4,Promise.all((0,S._)(f).map(function(t){return new Promise(function(r){var e=function(){if(t.style.display="flex",t.style.flexDirection="column",g){var e=5*parseInt((0,T.c)().fontSize?(0,T.c)().fontSize:window.getComputedStyle(document.body).fontSize,10)+"px";t.style.minWidth=e,t.style.maxWidth=e}else t.style.width="100%";r(t)};setTimeout(function(){t.complete&&e()}),t.addEventListener("error",e),t.addEventListener("load",e)})}))];case 1:x.sent(),x.label=2;case 2:h=p.getBoundingClientRect(),y.attr("width",h.width),y.attr("height",h.height),x.label=3;case 3:return i?l.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"):l.attr("transform","translate(0, "+-h.height/2+")"),r.centerLabel&&l.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"),l.insert("rect",":first-child"),[2,{shapeSvg:s,bbox:h,halfPadding:u,label:l}]}})}),function(t,r,e,a){return n.apply(this,arguments)}),W=function(t,r){var e=r.node().getBBox();t.width=e.width,t.height=e.height};function Y(t,r,e,a){return t.insert("polygon",":first-child").attr("points",a.map(function(t){return t.x+","+t.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-r/2+","+e/2+")")}var X=function(t,r){var e,a,n=t.x,i=t.y,s=r.x-n,l=r.y-i,o=t.width/2,c=t.height/2;return Math.abs(l)*o>Math.abs(s)*c?(l<0&&(c=-c),e=0===l?0:c*s/l,a=c):(s<0&&(o=-o),e=o,a=0===s?0:o*l/s),{x:n+e,y:i+a}},j={circle:function(t,r,e){var a,n,i,s,l,o,c;return a=t.x,n=t.y,i=a-e.x,l=Math.sqrt(r*r*(s=n-e.y)*s+r*r*i*i),o=Math.abs(r*r*i/l),e.x<a&&(o=-o),c=Math.abs(r*r*s/l),e.y<n&&(c=-c),{x:a+o,y:n+c}},polygon:function(t,r,e){var a=t.x,n=t.y,i=[],s=Number.POSITIVE_INFINITY,l=Number.POSITIVE_INFINITY;"function"==typeof r.forEach?r.forEach(function(t){s=Math.min(s,t.x),l=Math.min(l,t.y)}):(s=Math.min(s,r.x),l=Math.min(l,r.y));for(var o=a-t.width/2-s,c=n-t.height/2-l,d=0;d<r.length;d++){var h=r[d],u=r[d<r.length-1?d+1:0],p=function(t,r,e,a){var n,i,s,l,o,c,d,h,u,p,y,f,g;if(n=r.y-t.y,s=t.x-r.x,o=r.x*t.y-t.x*r.y,u=n*e.x+s*e.y+o,p=n*a.x+s*a.y+o,(0===u||0===p||!(u*p>0))&&(i=a.y-e.y,l=e.x-a.x,c=a.x*e.y-e.x*a.y,d=i*t.x+l*t.y+c,h=i*r.x+l*r.y+c,!(0!==d&&0!==h&&d*h>0)&&0!=(y=n*l-i*s)))return f=Math.abs(y/2),{x:(g=s*c-l*o)<0?(g-f)/y:(g+f)/y,y:(g=i*o-n*c)<0?(g-f)/y:(g+f)/y}}(t,e,{x:o+h.x,y:c+h.y},{x:o+u.x,y:c+u.y});p&&i.push(p)}return i.length?(i.length>1&&i.sort(function(t,r){var a=t.x-e.x,n=t.y-e.y,i=Math.sqrt(a*a+n*n),s=r.x-e.x,l=r.y-e.y,o=Math.sqrt(s*s+l*l);return i<o?-1:i===o?0:1}),i[0]):t},rect:X},H=(i=(0,L._)(function(t,r){var e,a,n,i,s;return(0,M.__generator)(this,function(l){switch(l.label){case 0:return r.useHtmlLabels||(0,T.c)().flowchart.htmlLabels||(r.centerLabel=!0),[4,O(t,r,"node "+r.classes,!0)];case 1:return a=(e=l.sent()).shapeSvg,n=e.bbox,i=e.halfPadding,(0,T.l).info("Classes = ",r.classes),(s=a.insert("rect",":first-child")).attr("rx",r.rx).attr("ry",r.ry).attr("x",-n.width/2-i).attr("y",-n.height/2-i).attr("width",n.width+r.padding).attr("height",n.height+r.padding),W(r,s),r.intersect=function(t){return j.rect(r,t)},[2,a]}})}),function(t,r){return i.apply(this,arguments)}),I=function(t){var r=new Set,e=!0,a=!1,n=void 0;try{for(var i,s=t[Symbol.iterator]();!(e=(i=s.next()).done);e=!0){var l=i.value;switch(l){case"x":r.add("right"),r.add("left");break;case"y":r.add("up"),r.add("down");break;default:r.add(l)}}}catch(t){a=!0,n=t}finally{try{e||null==s.return||s.return()}finally{if(a)throw n}}return r},D=function(t,r,e){var a=I(t),n=r.height+2*e.padding,i=n/2,s=r.width+2*i+e.padding,l=e.padding/2;return a.has("right")&&a.has("left")&&a.has("up")&&a.has("down")?[{x:0,y:0},{x:i,y:0},{x:s/2,y:2*l},{x:s-i,y:0},{x:s,y:0},{x:s,y:-n/3},{x:s+2*l,y:-n/2},{x:s,y:-2*n/3},{x:s,y:-n},{x:s-i,y:-n},{x:s/2,y:-n-2*l},{x:i,y:-n},{x:0,y:-n},{x:0,y:-2*n/3},{x:-2*l,y:-n/2},{x:0,y:-n/3}]:a.has("right")&&a.has("left")&&a.has("up")?[{x:i,y:0},{x:s-i,y:0},{x:s,y:-n/2},{x:s-i,y:-n},{x:i,y:-n},{x:0,y:-n/2}]:a.has("right")&&a.has("left")&&a.has("down")?[{x:0,y:0},{x:i,y:-n},{x:s-i,y:-n},{x:s,y:0}]:a.has("right")&&a.has("up")&&a.has("down")?[{x:0,y:0},{x:s,y:-i},{x:s,y:-n+i},{x:0,y:-n}]:a.has("left")&&a.has("up")&&a.has("down")?[{x:s,y:0},{x:0,y:-i},{x:0,y:-n+i},{x:s,y:-n}]:a.has("right")&&a.has("left")?[{x:i,y:0},{x:i,y:-l},{x:s-i,y:-l},{x:s-i,y:0},{x:s,y:-n/2},{x:s-i,y:-n},{x:s-i,y:-n+l},{x:i,y:-n+l},{x:i,y:-n},{x:0,y:-n/2}]:a.has("up")&&a.has("down")?[{x:s/2,y:0},{x:0,y:-l},{x:i,y:-l},{x:i,y:-n+l},{x:0,y:-n+l},{x:s/2,y:-n},{x:s,y:-n+l},{x:s-i,y:-n+l},{x:s-i,y:-l},{x:s,y:-l}]:a.has("right")&&a.has("up")?[{x:0,y:0},{x:s,y:-i},{x:0,y:-n}]:a.has("right")&&a.has("down")?[{x:0,y:0},{x:s,y:0},{x:0,y:-n}]:a.has("left")&&a.has("up")?[{x:s,y:0},{x:0,y:-i},{x:s,y:-n}]:a.has("left")&&a.has("down")?[{x:s,y:0},{x:0,y:0},{x:s,y:-n}]:a.has("right")?[{x:i,y:-l},{x:i,y:-l},{x:s-i,y:-l},{x:s-i,y:0},{x:s,y:-n/2},{x:s-i,y:-n},{x:s-i,y:-n+l},{x:i,y:-n+l},{x:i,y:-n+l}]:a.has("left")?[{x:i,y:0},{x:i,y:-l},{x:s-i,y:-l},{x:s-i,y:-n+l},{x:i,y:-n+l},{x:i,y:-n},{x:0,y:-n/2}]:a.has("up")?[{x:i,y:-l},{x:i,y:-n+l},{x:0,y:-n+l},{x:s/2,y:-n},{x:s,y:-n+l},{x:s-i,y:-n+l},{x:s-i,y:-l}]:a.has("down")?[{x:s/2,y:0},{x:0,y:-l},{x:i,y:-l},{x:i,y:-n+l},{x:s-i,y:-n+l},{x:s-i,y:-l},{x:s,y:-l}]:[{x:0,y:0}]},N=function(t){return t?" "+t:""},U=function(t,r){return"".concat(r||"node default").concat(N(t.classes)," ").concat(N(t.class))},A=(s=(0,L._)(function(t,r){var e,a,n,i,s,l;return(0,M.__generator)(this,function(o){switch(o.label){case 0:return[4,O(t,r,U(r,void 0),!0)];case 1:return a=(e=o.sent()).shapeSvg,s=[{x:(i=(n=e.bbox).width+r.padding+(n.height+r.padding))/2,y:0},{x:i,y:-i/2},{x:i/2,y:-i},{x:0,y:-i/2}],(0,T.l).info("Question main (Circle)"),(l=Y(a,i,i,s)).attr("style",r.style),W(r,l),r.intersect=function(t){return(0,T.l).warn("Intersect called"),j.polygon(r,s,t)},[2,a]}})}),function(t,r){return s.apply(this,arguments)}),Z=(l=(0,L._)(function(t,r){var e,a,n,i,s,l,o,c;return(0,M.__generator)(this,function(d){switch(d.label){case 0:return[4,O(t,r,U(r,void 0),!0)];case 1:return a=(e=d.sent()).shapeSvg,s=(i=(n=e.bbox).height+r.padding)/4,l=n.width+2*s+r.padding,o=[{x:s,y:0},{x:l-s,y:0},{x:l,y:-i/2},{x:l-s,y:-i},{x:s,y:-i},{x:0,y:-i/2}],(c=Y(a,l,i,o)).attr("style",r.style),W(r,c),r.intersect=function(t){return j.polygon(r,o,t)},[2,a]}})}),function(t,r){return l.apply(this,arguments)}),q=(o=(0,L._)(function(t,r){var e,a,n,i,s,l,o;return(0,M.__generator)(this,function(c){switch(c.label){case 0:return[4,O(t,r,void 0,!0)];case 1:return a=(e=c.sent()).shapeSvg,s=(i=(n=e.bbox).height+2*r.padding)/2,(o=Y(a,n.width+2*s+r.padding,i,l=D(r.directions,n,r))).attr("style",r.style),W(r,o),r.intersect=function(t){return j.polygon(r,l,t)},[2,a]}})}),function(t,r){return o.apply(this,arguments)}),z=(c=(0,L._)(function(t,r){var e,a,n,i,s,l;return(0,M.__generator)(this,function(o){switch(o.label){case 0:return[4,O(t,r,U(r,void 0),!0)];case 1:return a=(e=o.sent()).shapeSvg,i=(n=e.bbox).width+r.padding,l=[{x:-(s=n.height+r.padding)/2,y:0},{x:i,y:0},{x:i,y:-s},{x:-s/2,y:-s},{x:0,y:-s/2}],Y(a,i,s,l).attr("style",r.style),r.width=i+s,r.height=s,r.intersect=function(t){return j.polygon(r,l,t)},[2,a]}})}),function(t,r){return c.apply(this,arguments)}),G=(d=(0,L._)(function(t,r){var e,a,n,i,s,l,o;return(0,M.__generator)(this,function(c){switch(c.label){case 0:return[4,O(t,r,U(r),!0)];case 1:return a=(e=c.sent()).shapeSvg,i=(n=e.bbox).width+r.padding,l=[{x:-2*(s=n.height+r.padding)/6,y:0},{x:i-s/6,y:0},{x:i+2*s/6,y:-s},{x:s/6,y:-s}],(o=Y(a,i,s,l)).attr("style",r.style),W(r,o),r.intersect=function(t){return j.polygon(r,l,t)},[2,a]}})}),function(t,r){return d.apply(this,arguments)}),Q=(h=(0,L._)(function(t,r){var e,a,n,i,s,l,o;return(0,M.__generator)(this,function(c){switch(c.label){case 0:return[4,O(t,r,U(r,void 0),!0)];case 1:return a=(e=c.sent()).shapeSvg,i=(n=e.bbox).width+r.padding,l=[{x:2*(s=n.height+r.padding)/6,y:0},{x:i+s/6,y:0},{x:i-2*s/6,y:-s},{x:-s/6,y:-s}],(o=Y(a,i,s,l)).attr("style",r.style),W(r,o),r.intersect=function(t){return j.polygon(r,l,t)},[2,a]}})}),function(t,r){return h.apply(this,arguments)}),V=(u=(0,L._)(function(t,r){var e,a,n,i,s,l,o;return(0,M.__generator)(this,function(c){switch(c.label){case 0:return[4,O(t,r,U(r,void 0),!0)];case 1:return a=(e=c.sent()).shapeSvg,i=(n=e.bbox).width+r.padding,l=[{x:-2*(s=n.height+r.padding)/6,y:0},{x:i+2*s/6,y:0},{x:i-s/6,y:-s},{x:s/6,y:-s}],(o=Y(a,i,s,l)).attr("style",r.style),W(r,o),r.intersect=function(t){return j.polygon(r,l,t)},[2,a]}})}),function(t,r){return u.apply(this,arguments)}),F=(p=(0,L._)(function(t,r){var e,a,n,i,s,l,o;return(0,M.__generator)(this,function(c){switch(c.label){case 0:return[4,O(t,r,U(r,void 0),!0)];case 1:return a=(e=c.sent()).shapeSvg,i=(n=e.bbox).width+r.padding,l=[{x:(s=n.height+r.padding)/6,y:0},{x:i-s/6,y:0},{x:i+2*s/6,y:-s},{x:-2*s/6,y:-s}],(o=Y(a,i,s,l)).attr("style",r.style),W(r,o),r.intersect=function(t){return j.polygon(r,l,t)},[2,a]}})}),function(t,r){return p.apply(this,arguments)}),J=(y=(0,L._)(function(t,r){var e,a,n,i,s,l,o;return(0,M.__generator)(this,function(c){switch(c.label){case 0:return[4,O(t,r,U(r,void 0),!0)];case 1:return a=(e=c.sent()).shapeSvg,l=[{x:0,y:0},{x:(i=(n=e.bbox).width+r.padding)+(s=n.height+r.padding)/2,y:0},{x:i,y:-s/2},{x:i+s/2,y:-s},{x:0,y:-s}],(o=Y(a,i,s,l)).attr("style",r.style),W(r,o),r.intersect=function(t){return j.polygon(r,l,t)},[2,a]}})}),function(t,r){return y.apply(this,arguments)}),K=(f=(0,L._)(function(t,r){var e,a,n,i,s,l,o,c,d;return(0,M.__generator)(this,function(h){switch(h.label){case 0:return[4,O(t,r,U(r,void 0),!0)];case 1:return a=(e=h.sent()).shapeSvg,l=(s=(i=(n=e.bbox).width+r.padding)/2)/(2.5+i/50),o=n.height+l+r.padding,c="M 0,"+l+" a "+s+","+l+" 0,0,0 "+i+" 0 a "+s+","+l+" 0,0,0 "+-i+" 0 l 0,"+o+" a "+s+","+l+" 0,0,0 "+i+" 0 l 0,"+-o,d=a.attr("label-offset-y",l).insert("path",":first-child").attr("style",r.style).attr("d",c).attr("transform","translate("+-i/2+","+-(o/2+l)+")"),W(r,d),r.intersect=function(t){var e=j.rect(r,t),a=e.x-r.x;if(0!=s&&(Math.abs(a)<r.width/2||Math.abs(a)==r.width/2&&Math.abs(e.y-r.y)>r.height/2-l)){var n=l*l*(1-a*a/(s*s));0!=n&&(n=Math.sqrt(n)),n=l-n,t.y-r.y>0&&(n=-n),e.y+=n}return e},[2,a]}})}),function(t,r){return f.apply(this,arguments)}),$=(g=(0,L._)(function(t,r){var e,a,n,i,s,l,o,c,d,h;return(0,M.__generator)(this,function(u){switch(u.label){case 0:return[4,O(t,r,"node "+r.classes+" "+r.class,!0)];case 1:return a=(e=u.sent()).shapeSvg,n=e.bbox,i=e.halfPadding,s=a.insert("rect",":first-child"),l=r.positioned?r.width:n.width+r.padding,o=r.positioned?r.height:n.height+r.padding,c=r.positioned?-l/2:-n.width/2-i,d=r.positioned?-o/2:-n.height/2-i,s.attr("class","basic label-container").attr("style",r.style).attr("rx",r.rx).attr("ry",r.ry).attr("x",c).attr("y",d).attr("width",l).attr("height",o),r.props&&(h=new Set(Object.keys(r.props)),r.props.borders&&(te(s,r.props.borders,l,o),h.delete("borders")),h.forEach(function(t){(0,T.l).warn("Unknown node property ".concat(t))})),W(r,s),r.intersect=function(t){return j.rect(r,t)},[2,a]}})}),function(t,r){return g.apply(this,arguments)}),tt=(x=(0,L._)(function(t,r){var e,a,n,i,s,l,o,c,d,h;return(0,M.__generator)(this,function(u){switch(u.label){case 0:return[4,O(t,r,"node "+r.classes,!0)];case 1:return a=(e=u.sent()).shapeSvg,n=e.bbox,i=e.halfPadding,s=a.insert("rect",":first-child"),l=r.positioned?r.width:n.width+r.padding,o=r.positioned?r.height:n.height+r.padding,c=r.positioned?-l/2:-n.width/2-i,d=r.positioned?-o/2:-n.height/2-i,s.attr("class","basic cluster composite label-container").attr("style",r.style).attr("rx",r.rx).attr("ry",r.ry).attr("x",c).attr("y",d).attr("width",l).attr("height",o),r.props&&(h=new Set(Object.keys(r.props)),r.props.borders&&(te(s,r.props.borders,l,o),h.delete("borders")),h.forEach(function(t){(0,T.l).warn("Unknown node property ".concat(t))})),W(r,s),r.intersect=function(t){return j.rect(r,t)},[2,a]}})}),function(t,r){return x.apply(this,arguments)}),tr=(b=(0,L._)(function(t,r){var e,a,n;return(0,M.__generator)(this,function(i){switch(i.label){case 0:return[4,O(t,r,"label",!0)];case 1:return e=i.sent().shapeSvg,(0,T.l).trace("Classes = ",r.class),(a=e.insert("rect",":first-child")).attr("width",0).attr("height",0),e.attr("class","label edgeLabel"),r.props&&(n=new Set(Object.keys(r.props)),r.props.borders&&(te(a,r.props.borders,0,0),n.delete("borders")),n.forEach(function(t){(0,T.l).warn("Unknown node property ".concat(t))})),W(r,a),r.intersect=function(t){return j.rect(r,t)},[2,e]}})}),function(t,r){return b.apply(this,arguments)});function te(t,r,e,a){var n=[],i=function(t){n.push(t,0)},s=function(t){n.push(0,t)};r.includes("t")?((0,T.l).debug("add top border"),i(e)):s(e),r.includes("r")?((0,T.l).debug("add right border"),i(a)):s(a),r.includes("b")?((0,T.l).debug("add bottom border"),i(e)):s(e),r.includes("l")?((0,T.l).debug("add left border"),i(a)):s(a),t.attr("stroke-dasharray",n.join(" "))}var ta=(w=(0,L._)(function(t,r){var e,a,n,i,s,l;return(0,M.__generator)(this,function(o){switch(o.label){case 0:return[4,O(t,r,U(r,void 0),!0)];case 1:return a=(e=o.sent()).shapeSvg,i=(n=e.bbox).height+r.padding,s=n.width+i/4+r.padding,l=a.insert("rect",":first-child").attr("style",r.style).attr("rx",i/2).attr("ry",i/2).attr("x",-s/2).attr("y",-i/2).attr("width",s).attr("height",i),W(r,l),r.intersect=function(t){return j.rect(r,t)},[2,a]}})}),function(t,r){return w.apply(this,arguments)}),tn=(m=(0,L._)(function(t,r){var e,a,n,i,s;return(0,M.__generator)(this,function(l){switch(l.label){case 0:return[4,O(t,r,U(r,void 0),!0)];case 1:return a=(e=l.sent()).shapeSvg,n=e.bbox,i=e.halfPadding,(s=a.insert("circle",":first-child")).attr("style",r.style).attr("rx",r.rx).attr("ry",r.ry).attr("r",n.width/2+i).attr("width",n.width+r.padding).attr("height",n.height+r.padding),(0,T.l).info("Circle main"),W(r,s),r.intersect=function(t){return(0,T.l).info("Circle intersect",r,n.width/2+i,t),j.circle(r,n.width/2+i,t)},[2,a]}})}),function(t,r){return m.apply(this,arguments)}),ti=(v=(0,L._)(function(t,r){var e,a,n,i,s,l,o;return(0,M.__generator)(this,function(c){switch(c.label){case 0:return[4,O(t,r,U(r,void 0),!0)];case 1:return a=(e=c.sent()).shapeSvg,n=e.bbox,i=e.halfPadding,l=(s=a.insert("g",":first-child")).insert("circle"),o=s.insert("circle"),s.attr("class",r.class),l.attr("style",r.style).attr("rx",r.rx).attr("ry",r.ry).attr("r",n.width/2+i+5).attr("width",n.width+r.padding+10).attr("height",n.height+r.padding+10),o.attr("style",r.style).attr("rx",r.rx).attr("ry",r.ry).attr("r",n.width/2+i).attr("width",n.width+r.padding).attr("height",n.height+r.padding),(0,T.l).info("DoubleCircle main"),W(r,l),r.intersect=function(t){return(0,T.l).info("DoubleCircle intersect",r,n.width/2+i+5,t),j.circle(r,n.width/2+i+5,t)},[2,a]}})}),function(t,r){return v.apply(this,arguments)}),ts=(k=(0,L._)(function(t,r){var e,a,n,i,s,l,o;return(0,M.__generator)(this,function(c){switch(c.label){case 0:return[4,O(t,r,U(r,void 0),!0)];case 1:return a=(e=c.sent()).shapeSvg,l=[{x:0,y:0},{x:i=(n=e.bbox).width+r.padding,y:0},{x:i,y:-(s=n.height+r.padding)},{x:0,y:-s},{x:0,y:0},{x:-8,y:0},{x:i+8,y:0},{x:i+8,y:-s},{x:-8,y:-s},{x:-8,y:0}],(o=Y(a,i,s,l)).attr("style",r.style),W(r,o),r.intersect=function(t){return j.polygon(r,l,t)},[2,a]}})}),function(t,r){return k.apply(this,arguments)}),tl=function(t,r,e){var a=t.insert("g").attr("class","node default").attr("id",r.domId||r.id),n=70,i=10;return"LR"===e&&(n=10,i=70),W(r,a.append("rect").attr("x",-1*n/2).attr("y",-1*i/2).attr("width",n).attr("height",i).attr("class","fork-join")),r.height=r.height+r.padding/2,r.width=r.width+r.padding/2,r.intersect=function(t){return j.rect(r,t)},a},to={rhombus:A,composite:tt,question:A,rect:$,labelRect:tr,rectWithTitle:function(t,r){e=r.classes?"node "+r.classes:"node default";var e,a=t.insert("g").attr("class",e).attr("id",r.domId||r.id),n=a.insert("rect",":first-child"),i=a.insert("line"),s=a.insert("g").attr("class","label"),l=r.labelText.flat?r.labelText.flat():r.labelText,o="";o="object"==typeof l?l[0]:l,(0,T.l).info("Label text abc79",o,l,"object"==typeof l);var c=s.node().appendChild(R(o,r.labelStyle,!0,!0)),d={width:0,height:0};if((0,T.m)((0,T.c)().flowchart.htmlLabels)){var h=c.children[0],u=(0,B.select)(c);d=h.getBoundingClientRect(),u.attr("width",d.width),u.attr("height",d.height)}(0,T.l).info("Text 2",l);var p=l.slice(1,l.length),y=c.getBBox(),f=s.node().appendChild(R(p.join?p.join("<br/>"):p,r.labelStyle,!0,!0));if((0,T.m)((0,T.c)().flowchart.htmlLabels)){var g=f.children[0],x=(0,B.select)(f);d=g.getBoundingClientRect(),x.attr("width",d.width),x.attr("height",d.height)}var b=r.padding/2;return(0,B.select)(f).attr("transform","translate( "+(d.width>y.width?0:(y.width-d.width)/2)+", "+(y.height+b+5)+")"),(0,B.select)(c).attr("transform","translate( "+(d.width<y.width?0:-(y.width-d.width)/2)+", 0)"),d=s.node().getBBox(),s.attr("transform","translate("+-d.width/2+", "+(-d.height/2-b+3)+")"),n.attr("class","outer title-state").attr("x",-d.width/2-b).attr("y",-d.height/2-b).attr("width",d.width+r.padding).attr("height",d.height+r.padding),i.attr("class","divider").attr("x1",-d.width/2-b).attr("x2",d.width/2+b).attr("y1",-d.height/2-b+y.height+b).attr("y2",-d.height/2-b+y.height+b),W(r,n),r.intersect=function(t){return j.rect(r,t)},a},choice:function(t,r){var e=t.insert("g").attr("class","node default").attr("id",r.domId||r.id);return e.insert("polygon",":first-child").attr("points",[{x:0,y:14},{x:14,y:0},{x:0,y:-14},{x:-14,y:0}].map(function(t){return t.x+","+t.y}).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),r.width=28,r.height=28,r.intersect=function(t){return j.circle(r,14,t)},e},circle:tn,doublecircle:ti,stadium:ta,hexagon:Z,block_arrow:q,rect_left_inv_arrow:z,lean_right:G,lean_left:Q,trapezoid:V,inv_trapezoid:F,rect_right_inv_arrow:J,cylinder:K,start:function(t,r){var e=t.insert("g").attr("class","node default").attr("id",r.domId||r.id),a=e.insert("circle",":first-child");return a.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),W(r,a),r.intersect=function(t){return j.circle(r,7,t)},e},end:function(t,r){var e=t.insert("g").attr("class","node default").attr("id",r.domId||r.id),a=e.insert("circle",":first-child"),n=e.insert("circle",":first-child");return n.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),a.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),W(r,n),r.intersect=function(t){return j.circle(r,7,t)},e},note:H,subroutine:ts,fork:tl,join:tl,class_box:function(t,r){var e,a=r.padding/2;e=r.classes?"node "+r.classes:"node default";var n=t.insert("g").attr("class",e).attr("id",r.domId||r.id),i=n.insert("rect",":first-child"),s=n.insert("line"),l=n.insert("line"),o=0,c=4,d=n.insert("g").attr("class","label"),h=0,u=r.classData.annotations&&r.classData.annotations[0],p=r.classData.annotations[0]?"«"+r.classData.annotations[0]+"»":"",y=d.node().appendChild(R(p,r.labelStyle,!0,!0)),f=y.getBBox();if((0,T.m)((0,T.c)().flowchart.htmlLabels)){var g=y.children[0],x=(0,B.select)(y);f=g.getBoundingClientRect(),x.attr("width",f.width),x.attr("height",f.height)}r.classData.annotations[0]&&(c+=f.height+4,o+=f.width);var b=r.classData.label;void 0!==r.classData.type&&""!==r.classData.type&&((0,T.c)().flowchart.htmlLabels?b+="&lt;"+r.classData.type+"&gt;":b+="<"+r.classData.type+">");var w=d.node().appendChild(R(b,r.labelStyle,!0,!0));(0,B.select)(w).attr("class","classTitle");var m=w.getBBox();if((0,T.m)((0,T.c)().flowchart.htmlLabels)){var v=w.children[0],k=(0,B.select)(w);m=v.getBoundingClientRect(),k.attr("width",m.width),k.attr("height",m.height)}c+=m.height+4,m.width>o&&(o=m.width);var _=[];r.classData.members.forEach(function(t){var e=t.getDisplayDetails(),a=e.displayText;(0,T.c)().flowchart.htmlLabels&&(a=a.replace(/</g,"&lt;").replace(/>/g,"&gt;"));var n=d.node().appendChild(R(a,e.cssStyle?e.cssStyle:r.labelStyle,!0,!0)),i=n.getBBox();if((0,T.m)((0,T.c)().flowchart.htmlLabels)){var s=n.children[0],l=(0,B.select)(n);i=s.getBoundingClientRect(),l.attr("width",i.width),l.attr("height",i.height)}i.width>o&&(o=i.width),c+=i.height+4,_.push(n)}),c+=8;var L=[];if(r.classData.methods.forEach(function(t){var e=t.getDisplayDetails(),a=e.displayText;(0,T.c)().flowchart.htmlLabels&&(a=a.replace(/</g,"&lt;").replace(/>/g,"&gt;"));var n=d.node().appendChild(R(a,e.cssStyle?e.cssStyle:r.labelStyle,!0,!0)),i=n.getBBox();if((0,T.m)((0,T.c)().flowchart.htmlLabels)){var s=n.children[0],l=(0,B.select)(n);i=s.getBoundingClientRect(),l.attr("width",i.width),l.attr("height",i.height)}i.width>o&&(o=i.width),c+=i.height+4,L.push(n)}),c+=8,u){var S=(o-f.width)/2;(0,B.select)(y).attr("transform","translate( "+(-1*o/2+S)+", "+-1*c/2+")"),h=f.height+4}var M=(o-m.width)/2;return(0,B.select)(w).attr("transform","translate( "+(-1*o/2+M)+", "+(-1*c/2+h)+")"),h+=m.height+4,s.attr("class","divider").attr("x1",-o/2-a).attr("x2",o/2+a).attr("y1",-c/2-a+8+h).attr("y2",-c/2-a+8+h),h+=8,_.forEach(function(t){(0,B.select)(t).attr("transform","translate( "+-o/2+", "+(-1*c/2+h+4)+")");var r,e=null==t?void 0:t.getBBox();h+=(null!==(r=null==e?void 0:e.height)&&void 0!==r?r:0)+4}),h+=8,l.attr("class","divider").attr("x1",-o/2-a).attr("x2",o/2+a).attr("y1",-c/2-a+8+h).attr("y2",-c/2-a+8+h),h+=8,L.forEach(function(t){(0,B.select)(t).attr("transform","translate( "+-o/2+", "+(-1*c/2+h)+")");var r,e=null==t?void 0:t.getBBox();h+=(null!==(r=null==e?void 0:e.height)&&void 0!==r?r:0)+4}),i.attr("style",r.style).attr("class","outer title-state").attr("x",-o/2-a).attr("y",-(c/2)-a).attr("width",o+r.padding).attr("height",c+r.padding),W(r,i),r.intersect=function(t){return j.rect(r,t)},n}},tc={},td=(_=(0,L._)(function(t,r,e){var a,n,i;return(0,M.__generator)(this,function(s){switch(s.label){case 0:if(!r.link)return[3,2];return"sandbox"===(0,T.c)().securityLevel?i="_top":r.linkTarget&&(i=r.linkTarget||"_blank"),a=t.insert("svg:a").attr("xlink:href",r.link).attr("target",i),[4,to[r.shape](a,r,e)];case 1:return n=s.sent(),[3,4];case 2:return[4,to[r.shape](t,r,e)];case 3:a=n=s.sent(),s.label=4;case 4:return r.tooltip&&n.attr("title",r.tooltip),r.class&&n.attr("class","node default "+r.class),a.attr("data-node","true"),a.attr("data-id",r.id),tc[r.id]=a,r.haveCallback&&tc[r.id].attr("class",tc[r.id].attr("class")+" clickable"),[2,a]}})}),function(t,r,e){return _.apply(this,arguments)}),th=function(t,r){tc[r.id]=t},tu=function(){tc={}},tp=function(t){var r=tc[t.id];(0,T.l).trace("Transforming node",t.diff,t,"translate("+(t.x-t.width/2-5)+", "+t.width/2+")");var e=t.diff||0;return t.clusterNode?r.attr("transform","translate("+(t.x+e-t.width/2)+", "+(t.y-t.height/2-8)+")"):r.attr("transform","translate("+t.x+", "+t.y+")"),e},ty=function(t){var r,e,a,n,i=t.flowchart,s=null!==(a=null==(r=null==i?void 0:i.subGraphTitleMargin)?void 0:r.top)&&void 0!==a?a:0,l=null!==(n=null==(e=null==i?void 0:i.subGraphTitleMargin)?void 0:e.bottom)&&void 0!==n?n:0;return{subGraphTitleTopMargin:s,subGraphTitleBottomMargin:l,subGraphTitleTotalMargin:s+l}},tf={aggregation:18,extension:18,composition:18,dependency:6,lollipop:13.5,arrow_point:5.3};function tg(t,r){if(void 0===t||void 0===r)return{angle:0,deltaX:0,deltaY:0};t=tx(t),r=tx(r);var e=[t.x,t.y],a=e[0],n=e[1],i=[r.x,r.y],s=i[0]-a,l=i[1]-n;return{angle:Math.atan(l/s),deltaX:s,deltaY:l}}var tx=function(t){return Array.isArray(t)?{x:t[0],y:t[1]}:t},tb=function(t){return{x:function(r,e,a){var n=0;if(0===e&&Object.hasOwn(tf,t.arrowTypeStart)){var i=tg(a[0],a[1]),s=i.angle,l=i.deltaX;n=tf[t.arrowTypeStart]*Math.cos(s)*(l>=0?1:-1)}else if(e===a.length-1&&Object.hasOwn(tf,t.arrowTypeEnd)){var o=tg(a[a.length-1],a[a.length-2]),c=o.angle,d=o.deltaX;n=tf[t.arrowTypeEnd]*Math.cos(c)*(d>=0?1:-1)}return tx(r).x+n},y:function(r,e,a){var n=0;if(0===e&&Object.hasOwn(tf,t.arrowTypeStart)){var i=tg(a[0],a[1]),s=i.angle,l=i.deltaY;n=tf[t.arrowTypeStart]*Math.abs(Math.sin(s))*(l>=0?1:-1)}else if(e===a.length-1&&Object.hasOwn(tf,t.arrowTypeEnd)){var o=tg(a[a.length-1],a[a.length-2]),c=o.angle,d=o.deltaY;n=tf[t.arrowTypeEnd]*Math.abs(Math.sin(c))*(d>=0?1:-1)}return tx(r).y+n}}},tw=function(t,r,e,a,n){r.arrowTypeStart&&tv(t,"start",r.arrowTypeStart,e,a,n),r.arrowTypeEnd&&tv(t,"end",r.arrowTypeEnd,e,a,n)},tm={arrow_cross:"cross",arrow_point:"point",arrow_barb:"barb",arrow_circle:"circle",aggregation:"aggregation",extension:"extension",composition:"composition",dependency:"dependency",lollipop:"lollipop"},tv=function(t,r,e,a,n,i){var s=tm[e];if(!s){(0,T.l).warn("Unknown arrow type: ".concat(e));return}t.attr("marker-".concat(r),"url(".concat(a,"#").concat(n,"_").concat(i,"-").concat(s).concat("start"===r?"Start":"End",")"))},tk={},t_={},tL=function(){tk={},t_={}},tS=function(t,r){var e,a=(0,T.m)((0,T.c)().flowchart.htmlLabels),n="markdown"===r.labelType?(0,C.a)(t,r.label,{style:r.labelStyle,useHtmlLabels:a,addSvgBackground:!0}):R(r.label,r.labelStyle),i=t.insert("g").attr("class","edgeLabel"),s=i.insert("g").attr("class","label");s.node().appendChild(n);var l=n.getBBox();if(a){var o=n.children[0],c=(0,B.select)(n);l=o.getBoundingClientRect(),c.attr("width",l.width),c.attr("height",l.height)}if(s.attr("transform","translate("+-l.width/2+", "+-l.height/2+")"),tk[r.id]=i,r.width=l.width,r.height=l.height,r.startLabelLeft){var d=R(r.startLabelLeft,r.labelStyle),h=t.insert("g").attr("class","edgeTerminals"),u=h.insert("g").attr("class","inner");e=u.node().appendChild(d);var p=d.getBBox();u.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"),t_[r.id]||(t_[r.id]={}),t_[r.id].startLeft=h,tM(e,r.startLabelLeft)}if(r.startLabelRight){var y=R(r.startLabelRight,r.labelStyle),f=t.insert("g").attr("class","edgeTerminals"),g=f.insert("g").attr("class","inner");e=f.node().appendChild(y),g.node().appendChild(y);var x=y.getBBox();g.attr("transform","translate("+-x.width/2+", "+-x.height/2+")"),t_[r.id]||(t_[r.id]={}),t_[r.id].startRight=f,tM(e,r.startLabelRight)}if(r.endLabelLeft){var b=R(r.endLabelLeft,r.labelStyle),w=t.insert("g").attr("class","edgeTerminals"),m=w.insert("g").attr("class","inner");e=m.node().appendChild(b);var v=b.getBBox();m.attr("transform","translate("+-v.width/2+", "+-v.height/2+")"),w.node().appendChild(b),t_[r.id]||(t_[r.id]={}),t_[r.id].endLeft=w,tM(e,r.endLabelLeft)}if(r.endLabelRight){var k=R(r.endLabelRight,r.labelStyle),_=t.insert("g").attr("class","edgeTerminals"),L=_.insert("g").attr("class","inner");e=L.node().appendChild(k);var S=k.getBBox();L.attr("transform","translate("+-S.width/2+", "+-S.height/2+")"),_.node().appendChild(k),t_[r.id]||(t_[r.id]={}),t_[r.id].endRight=_,tM(e,r.endLabelRight)}return n};function tM(t,r){(0,T.c)().flowchart.htmlLabels&&t&&(t.style.width=9*r.length+"px",t.style.height="12px")}var tT=function(t,r){(0,T.l).debug("Moving label abc88 ",t.id,t.label,tk[t.id],r);var e=r.updatedPath?r.updatedPath:r.originalPath,a=ty((0,T.c)()).subGraphTitleTotalMargin;if(t.label){var n=tk[t.id],i=t.x,s=t.y;if(e){var l=(0,T.u).calcLabelPosition(e);(0,T.l).debug("Moving label "+t.label+" from (",i,",",s,") to (",l.x,",",l.y,") abc88"),r.updatedPath&&(i=l.x,s=l.y)}n.attr("transform","translate(".concat(i,", ").concat(s+a/2,")"))}if(t.startLabelLeft){var o=t_[t.id].startLeft,c=t.x,d=t.y;if(e){var h=(0,T.u).calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_left",e);c=h.x,d=h.y}o.attr("transform","translate(".concat(c,", ").concat(d,")"))}if(t.startLabelRight){var u=t_[t.id].startRight,p=t.x,y=t.y;if(e){var f=(0,T.u).calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_right",e);p=f.x,y=f.y}u.attr("transform","translate(".concat(p,", ").concat(y,")"))}if(t.endLabelLeft){var g=t_[t.id].endLeft,x=t.x,b=t.y;if(e){var w=(0,T.u).calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_left",e);x=w.x,b=w.y}g.attr("transform","translate(".concat(x,", ").concat(b,")"))}if(t.endLabelRight){var m=t_[t.id].endRight,v=t.x,k=t.y;if(e){var _=(0,T.u).calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_right",e);v=_.x,k=_.y}m.attr("transform","translate(".concat(v,", ").concat(k,")"))}},tB=function(t,r){var e=t.x,a=t.y,n=Math.abs(r.x-e),i=Math.abs(r.y-a),s=t.width/2,l=t.height/2;return n>=s||i>=l},tC=function(t,r,e){(0,T.l).debug("intersection calc abc89:\n  outsidePoint: ".concat(JSON.stringify(r),"\n  insidePoint : ").concat(JSON.stringify(e),"\n  node        : x:").concat(t.x," y:").concat(t.y," w:").concat(t.width," h:").concat(t.height));var a=t.x,n=t.y,i=Math.abs(a-e.x),s=t.width/2,l=e.x<r.x?s-i:s+i,o=t.height/2,c=Math.abs(r.y-e.y),d=Math.abs(r.x-e.x);if(Math.abs(n-r.y)*s>Math.abs(a-r.x)*o){var h=e.y<r.y?r.y-o-n:n-o-r.y;l=d*h/c;var u={x:e.x<r.x?e.x+l:e.x-d+l,y:e.y<r.y?e.y+c-h:e.y-c+h};return 0===l&&(u.x=r.x,u.y=r.y),0===d&&(u.x=r.x),0===c&&(u.y=r.y),(0,T.l).debug("abc89 topp/bott calc, Q ".concat(c,", q ").concat(h,", R ").concat(d,", r ").concat(l),u),u}var p=c*(l=e.x<r.x?r.x-s-a:a-s-r.x)/d,y=e.x<r.x?e.x+d-l:e.x-d+l,f=e.y<r.y?e.y+p:e.y-p;return(0,T.l).debug("sides calc abc89, Q ".concat(c,", q ").concat(p,", R ").concat(d,", r ").concat(l),{_x:y,_y:f}),0===l&&(y=r.x,f=r.y),0===d&&(y=r.x),0===c&&(f=r.y),{x:y,y:f}},tE=function(t,r){(0,T.l).debug("abc88 cutPathAtIntersect",t,r);var e=[],a=t[0],n=!1;return t.forEach(function(t){if(tB(r,t)||n)a=t,n||e.push(t);else{var i=tC(r,a,t),s=!1;e.forEach(function(t){s=s||t.x===i.x&&t.y===i.y}),e.some(function(t){return t.x===i.x&&t.y===i.y})||e.push(i),n=!0}}),e},tP=function(t,r,e,a,n,i,s){var l,o=e.points;(0,T.l).debug("abc88 InsertEdge: edge=",e,"e=",r);var c=!1,d=i.node(r.v),h=i.node(r.w);(null==h?void 0:h.intersect)&&(null==d?void 0:d.intersect)&&((o=o.slice(1,e.points.length-1)).unshift(d.intersect(o[0])),o.push(h.intersect(o[o.length-1]))),e.toCluster&&((0,T.l).debug("to cluster abc88",a[e.toCluster]),o=tE(e.points,a[e.toCluster].node),c=!0),e.fromCluster&&((0,T.l).debug("from cluster abc88",a[e.fromCluster]),o=tE(o.reverse(),a[e.fromCluster].node).reverse(),c=!0);var u=o.filter(function(t){return!Number.isNaN(t.y)}),p=B.curveBasis;e.curve&&("graph"===n||"flowchart"===n)&&(p=e.curve);var y=tb(e),f=y.x,g=y.y,x=(0,B.line)().x(f).y(g).curve(p);switch(e.thickness){case"normal":l="edge-thickness-normal";break;case"thick":case"invisible":l="edge-thickness-thick";break;default:l=""}switch(e.pattern){case"solid":l+=" edge-pattern-solid";break;case"dotted":l+=" edge-pattern-dotted";break;case"dashed":l+=" edge-pattern-dashed"}var b=t.append("path").attr("d",x(u)).attr("id",e.id).attr("class"," "+l+(e.classes?" "+e.classes:"")).attr("style",e.style),w="";((0,T.c)().flowchart.arrowMarkerAbsolute||(0,T.c)().state.arrowMarkerAbsolute)&&(w=(w=(w=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")),tw(b,e,w,s,n);var m={};return c&&(m.updatedPath=o),m.originalPath=e.points,m}})}();
//# sourceMappingURL=flowDiagram-5540d9b9.cad4487a.js.map
